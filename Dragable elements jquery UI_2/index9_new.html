<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>jQuery UI Resizable - Default functionality</title>
  <link rel="stylesheet" type="text/css" href="jquery-ui-1.12.1/jquery-ui.css" />
  <link rel="stylesheet" href="styles.css">
  <script src="jquery-ui-1.12.1/external/jquery/jquery.js"></script>
  <script src="jquery-ui-1.12.1/jquery-ui.js"></script>
  <style>
         .clear{
            clear:both;
        }
        #container{
            width: 1300px; 
        }
        #left_panel{
            padding: 3px; 
            width: 306px;
            height: 100px;    
            float: left;             
            background-color: #FF0000;
        }
        
        #content {
            padding: 3px; 
            width: 306px;
            height: 100px;
            float: left;
            background-color: #9999FF;
        }

        #content1 {
            padding: 3px; 
            width: 306px;
            height: 100px;
            float: left;
            background-color: green;
        }

        #content2 {
            padding: 3px; 
            width: 306px;
            height: 100px;
            float: left;
            background-color: violet;
        }

        .splitter {
        /* flex: 0 0 auto; */
        width: 8px;  
        background: url(https://raw.githubusercontent.com/RickStrahl/jquery-resizable/master/assets/vsizegrip.png) center center no-repeat #535353;
        height: 100px;
        float: left;
        /* cursor: col-resize;   */
        }
      
  </style> 
  <script>

         $(document).ready(function() {

            // init
            var resize = $("#left_panel");            
            var resize0 = $("#content");
            var resize1 = $("#content1");
            var resize2 = $("#content2");

            var size1 = $("#left_panel").width();            
            var size2 = $("#content").width();
            var size3 = $("#content1").width();
            var size4 = $("#content2").width();
            
            var containerWidth = $("#container").width();
            // var $currentBlock = $(this);
            // console.log($currentBlock)

            var $this = $(this);
            

            $(resize).resizable({
                  axis: 'x', 
                  refreshPositions: true,
                  
                  handles: 'e',                  
                  maxWidth: 900,
                  minWidth: 20,

                  handleSelector: ".splitter",
                //   containment: ".panel-container",
                //   alsoResize: "#content1",


                start: function(event, ui) {
                
                var element = ui.element;
                    
                    elWidth = element.width();
                    nextWidth = element.next().next().width();

                    element.width( elWidth + (ui.position.left-ui.originalPosition.left) );
                    element.next().next().width( nextWidth - (ui.position.left-ui.originalPosition.left) );
                    console.log(elWidth + " " + nextWidth)
                  },

                //   resize: function(event, ui){
                //     var element = ui.element;
                    

                //   }
            });
                    
                //   stop: function(event, ui) {
                //     $(".ui-draggable").each(function(){
                //         $(this).css({"left":'auto','right':'0'});
                //     });
                    
                  
                    
                    

                    // var currentWidth = ui.size.width;

                    // $(element).next().next().css({"color": "red", "border": "1px solid red"}); //next container 
                    
                    // var aaa = $(this).width(currentWidth);     

                    // console.log(aaa);


                    // var nextcontainer = $(element).next().next();

                    // var outerelement = ui.element.outerWidth()

                    // var remainingSpace = parent.width() - ui.element.outerWidth();

                    // var divTwoWidth = (remainingSpace - (nextcontainer.outerWidth() - nextcontainer.width()))/parent.width()*100+"%";


                    // var nextcontainerwidth = $(element).next().next().width(); 
                    // var previouscontainer = $(element).prev().prev().width();

                    // var remainingwidth = containerWidth - size3 - size4 - 16;
                        




                    // console.log(remainingwidth)
                        
                 


                    



                    // $("#left_panel").width(containerWidth - nextcontainerwidth - currentWidth); 
                      
                    //   // this accounts for padding in the panels + 
                    //   // borders, you could calculate this using jQuery
                    //   var padding = 12; 
                      
                    //   // this accounts for some lag in the ui.size value, if you take this away 
                    //   // you'll get some instable behaviour
                    //   $(this).width(currentWidth);
                      
                    //   // set the content panel width
                    //   $("#content").width(containerWidth - currentWidth - padding);            
                  
        

            $(resize0).resizable({
                
                handles: 'e',                          
                maxWidth: 306,
                minWidth: 20,

                handleSelector: ".splitter",
                resize: function(event, ui){
             
                }
          });

            $(resize1).resizable({
                
                handles: 'e',               
                maxWidth: 306,
                minWidth: 20,
                handleSelector: ".splitter",

              //   alsoResize: "#content1",
                resize: function(event, ui){
                  //   var currentWidth = ui.size.width;
                    
                  //   // this accounts for padding in the panels + 
                  //   // borders, you could calculate this using jQuery
                  //   var padding = 12; 
                    
                  //   // this accounts for some lag in the ui.size value, if you take this away 
                  //   // you'll get some instable behaviour
                  //   $(this).width(currentWidth);
                    
                  //   // set the content panel width
                  //   $("#content").width(containerWidth - currentWidth - padding);            
                }
          });
            
          $(resize2).resizable({
                
                handles: 'nw',
                
                maxWidth: 400,
                minWidth: 20,
                handleSelector: ".splitter",
                
              //   alsoResize: "#content1",
                resize: function(event, ui){
                  //   var currentWidth = ui.size.width;
                    
                  //   // this accounts for padding in the panels + 
                  //   // borders, you could calculate this using jQuery
                  //   var padding = 12; 
                    
                  //   // this accounts for some lag in the ui.size value, if you take this away 
                  //   // you'll get some instable behaviour
                  //   $(this).width(currentWidth);
                    
                  //   // set the content panel width
                  //   $("#content").width(containerWidth - currentWidth - padding);            
                }
          });
            
            });
  </script> 
</head>
<body>
    <div id="container">
        <div id="left_panel">
            some text, lorem ipsum. some text, lorem ipsum. some text, lorem ipsum.
        </div>
        <div id="splitter1" class="splitter"></div>
        <div id="content" >
            some text, lorem ipsum. some text, lorem ipsum. some text, lorem ipsum.
        </div>
        <div id="splitter2" class="splitter"></div>
        <div id="content1" >
            some text, lorem ipsum. some text, lorem ipsum. some text, lorem ipsum.
        </div>
        <div id="splitter3" class="splitter"></div>
        <div id="content2" >
            some text, lorem ipsum. some text, lorem ipsum. some text, lorem ipsum.
        </div>
        <div class="clear"></div>
    </div>
</body>
</html>