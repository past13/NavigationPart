<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>jQuery UI Resizable - Default functionality</title>
  <link rel="stylesheet" type="text/css" href="jquery-ui-1.12.1/jquery-ui.css" />
  <link rel="stylesheet" href="index7.css">
  <script src="jquery-ui-1.12.1/external/jquery/jquery.js"></script>
  <script src="jquery-ui-1.12.1/jquery-ui.js"></script>
</head>

<body>
        <div class="body">
                <div class="block">test1</div>
                <div class="block">test2</div>   
                <div class="block">test2</div>
        </div>
</body>

<script>
$(function () {

    var containerWidth = $(".body").width();
        // console.log(containerWidth)

    var getCurrentBlockRight = function ($currentBlock) {       
        var $parent = $currentBlock.parent(); 

        return $currentBlock.offset().left + $currentBlock.outerWidth() - $parent.offset().left - parseInt($parent.css("padding-left"), 10);
    };
    $('.body').resizable({
        alsoResize: '.block',
        maxWidth: 900,
        minWidth: 900, 
        minHeight: 300,
        maxHeight: 300,
        
        
        

        // start: function (event, ui) {
            // var $currentBlock = $(this);
            // var width = $(this).width();

            // var cw = 0;
            // var parent = ui.element.parent();
                        
            // ui.element.siblings().each(function() {
            //     //start of block
            //     cw += $(this).width();  

            // });

            // console.log(cw + "cw" + $currentBlock.width() + "current block")

            // if(parent.width() <= cw + ui.element.width()) {
            //     ui.element.width(
            //         parent.width() - cw
            //     );
            // }


            // ui.element.siblings().each(function() {
            //     cw += $(this).width();                
            // });

            // if(parent.width() <= cw + ui.element.width()) {
            //     ui.element.width(
            //         parent.width() - cw
            //     );
            // }

            // function appendCurrent (currentValue, next) {  
            // // console.log(previousValue)
            
                
            //     return currentValue;  
            // }
            // // var remainingSpace = parent.width() - ui.element.outerWidth();
            // var arr = Array.from(parent[0].children);

            // console.log(arr[0].clientWidth);

            
           
            // var result = arr.reduce(appendCurrent);


                
            
            // $currentBlock.resizable("option", "maxWidth", width + containerWidth - getCurrentBlockRight($currentBlock));
        // },
        // stop: function(event, ui) {


        //     console.log("stops")

        // }      
    });
});
</script>
</html>